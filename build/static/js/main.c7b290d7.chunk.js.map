{"version":3,"sources":["context/room/RoomContext.js","component/CreateNewMeeting.js","component/JoinExistingMeeting.js","component/Home.js","component/Video.js","functions/compile.js","component/CodeEditor.js","component/MeetingRoom.js","App.js","reportWebVitals.js","context/room/RoomState.js","index.js"],"names":["roomContext","createContext","CreateNewMeeting","navigate","useNavigate","createNewSocket","useContext","className","onSubmit","e","preventDefault","target","elements","myName","value","htmlFor","id","name","placeholder","type","JoinExistingMeeting","connectToSocket","Home","useState","flag","setFlag","onclick","f","onClick","Video","context","toggleAudio","toggleVideo","style","height","width","API_KEY","encode","str","btoa","unescape","encodeURIComponent","decode","bytes","escaped","escape","atob","decodeURIComponent","checkIfCodeCompiled","token","onOutputChange","options","method","url","params","base64_encoded","fields","headers","console","log","axios","request","then","response","description","data","status","setTimeout","stdout","compile_output","catch","error","compile","code","input","lang","language_id","source_code","stdin","CodeEditor","props","setCode","roomId","socket","langMap","useRef","text","useEffect","on","current","defaultLanguage","language","theme","defaultValue","onChange","msg","emit","Meeting","setInput","output","setOutput","setLang","currLang","setCurrLang","newLang","changeLang","display","App","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","io","RoomState","setRoomId","myID","setMyID","users","Map","connectedUsers","myStream","once","delete","showVideos","getUserVideoAudio","navigator","mediaDevices","getUserMedia","audio","video","stream","addVideo","forEach","connectedId","sendConnectionToAlreadyPresentPeer","userId","receiveConnectionFromNewPeerJoining","err","UserStream","userVideo","document","createElement","muted","srcObject","addEventListener","a","play","set","peer","Peer","initiator","trickle","destroyed","to","from","otherStream","has","destroy","signal","Date","now","getElementById","innerHTML","entries","appendChild","RoomContext","Provider","getVideoTracks","enabled","getAudioTracks","uuidv4","room","children","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c7b290d7.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nconst roomContext = createContext();\n\n\n\nexport default roomContext;","import React, {useContext} from 'react'\nimport { useNavigate } from \"react-router-dom\";\nimport roomContext from '../context/room/RoomContext';\n\nconst CreateNewMeeting = () => {\n    let navigate = useNavigate();\n    const context = useContext(roomContext);\n    const {createNewSocket} = context;\n\n    const onsubmit = (e) => {\n        e.preventDefault();\n        // console.log(e.target.elements.myName.value);\n        createNewSocket(e.target.elements.myName.value);\n        \n        navigate(\"/meeting\");\n        //  Now direct user to meeting Room, using useNavigate(useHistory) hook\n        \n\n    }\n\n    \n    return (\n        <div className=\"w-100 mx-5\">\n            <h2>New Meeting</h2>\n\n            <form onSubmit={onsubmit}>\n                <div className=\"form-group mt-4\">\n                    <label htmlFor=\"exampleInputEmail1\">Enter your Name</label>\n                    <input className=\"form-control my-2\" id=\"exampleInputEmail1\" name=\"myName\" placeholder=\"Your Name\"/>\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            </form>\n        </div>\n    )\n}\n\nexport default CreateNewMeeting\n","import React, {useContext} from 'react'\nimport { useNavigate } from \"react-router-dom\";\nimport roomContext from '../context/room/RoomContext';\n\nconst JoinExistingMeeting = () => {\n    let navigate = useNavigate();\n    const context = useContext(roomContext);\n    const {connectToSocket} = context;\n\n    const onsubmit = (e) => {\n        e.preventDefault();\n        // console.log(e.target.elements.myName.value);\n        connectToSocket(e.target.elements.myName.value);\n        \n\n        //  Now direct user to meeting Room, using useNavigate(useHistory) hook\n        navigate(\"/meeting\");\n\n    }\n\n    \n    return (\n        <div className=\"w-100 mx-5\">\n            <h2>Join Existing Meeting</h2>\n\n            <form onSubmit={onsubmit}>\n                <div className=\"form-group mt-4\">\n                    <label htmlFor=\"exampleInputEmail1\">Enter Room ID</label>\n                    <input className=\"form-control my-2\" id=\"exampleInputEmail1\" name=\"myName\" placeholder=\"Room ID\"/>\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            </form>\n        </div>\n    )\n}\n\nexport default JoinExistingMeeting\n","import React, { useState} from 'react'\nimport CreateNewMeeting from './CreateNewMeeting'\nimport JoinExistingMeeting from './JoinExistingMeeting'\n\nconst Home = () => {\n    const [flag, setFlag] = useState(0)\n    const onclick = (f) => {\n        setFlag(f);\n    }\n    return (\n        <div className=\"d-flex justify-content-center my-5\">\n            {flag===0 && <button type=\"button\" className=\"btn btn-primary mx-3\" onClick={() => {onclick(1)}} >Create New Meeting</button> }\n            {flag===0 && <button type=\"button\" className=\"btn btn-primary mx-3\" onClick={() => {onclick(2)}}>Join Existing Room</button>}\n\n            {flag===1 && <CreateNewMeeting setFlag={setFlag} />}\n            {flag===2 && <JoinExistingMeeting setFlag={setFlag}/>}\n        </div>\n    )\n}\n\nexport default Home\n","import React, { useEffect, useContext } from 'react';\nimport roomContext from '../context/room/RoomContext';\n\n\nconst Video = () => {\n    const context = useContext(roomContext);\n    const {toggleAudio, toggleVideo} = context;\n\n    return (\n        <>\n        <button onClick={toggleAudio}>Toggle Audio</button>\n        <button onClick={toggleVideo} className='mx-2'>Toggle Video</button>\n        <div className='mx-2 my-2' style={{ height: '100px', width: '100px' }} id=\"video-box\" >\n            \n        </div>\n        </>\n    )\n}\n\nexport default Video\n","import axios from \"axios\";\n// const API_KEY = '73bfff05e8mshdafc167b1f0cbd0p1f5d74jsn2debc0231dda'\n// const API_KEY = '642a5d1a7fmshfc133c9d3876cc3p14c362jsn159bad2f1041'\n// const API_KEY = '81351fd847msh51e7b8d7c9f13efp1cc954jsn4cce49d4dd1e'\nconst API_KEY = '7618912dbfmsh2a325e3decd2d07p1f9956jsn62222c2ff5fd'\n\nfunction encode(str) {\n\treturn btoa(unescape(encodeURIComponent(str || \"\")));\n}\nfunction decode(bytes) {\n\tvar escaped = escape(atob(bytes || \"\"));\n\ttry {\n\t\treturn decodeURIComponent(escaped);\n\t} catch {\n\t\treturn unescape(escaped);\n\t}\n}\n\nfunction checkIfCodeCompiled(token, onOutputChange) {\n\tconst options = {\n\t\tmethod: 'GET',\n\t\turl: `https://judge0-ce.p.rapidapi.com/submissions/${token}`,\n\t\tparams: { base64_encoded: 'true', fields: '*' },\n\t\theaders: {\n\t\t\t'x-rapidapi-host': 'judge0-ce.p.rapidapi.com',\n\t\t\t'x-rapidapi-key': `${API_KEY}`\n\t\t}\n\t};\n\tconsole.log('asking');\n\taxios.request(options).then(function (response) {\n\n\t\tlet description = response.data.status.description;\n\n\t\tif (description === \"In Queue\" || description === \"Processing\") {\n\t\t\tsetTimeout(() => {\n\t\t\t\tcheckIfCodeCompiled(token, onOutputChange);\n\t\t\t}, 1000);\n\t\t}\n\t\telse if(description === 'Accepted'){\n\t\t\tonOutputChange(decode(response.data.stdout));\n\t\t}\n\t\telse if(description === \"Compilation Error\"){\n\t\t\tonOutputChange(decode(response.data.compile_output));\n\t\t}\n\t\telse{\n\t\t\tonOutputChange(description);\n\t\t}\n\n\t}).catch(function (error) {\n\t\tconsole.error(error);\n\t});\n}\n\nexport function compile(code, input, lang, onOutputChange) {\n\tonOutputChange('Compiling your code...');\n\tconst options = {\n\t\tmethod: 'POST',\n\t\turl: 'https://judge0-ce.p.rapidapi.com/submissions',\n\t\tparams: { base64_encoded: 'true', fields: '*' },\n\t\theaders: {\n\t\t\t'content-type': 'application/json',\n\t\t\t'x-rapidapi-host': 'judge0-ce.p.rapidapi.com',\n\t\t\t'x-rapidapi-key': `${API_KEY}`\n\t\t},\n\t\tdata: {\n\t\t\tlanguage_id: `${lang}`,\n\t\t\tsource_code: `${encode(code)}`,\n\t\t\tstdin: `${encode(input)}`\n\t\t}\n\t};\n\n\tconsole.log('compiling');\n\taxios.request(options).then(function (response) {\n\t\tconst token = response.data.token;\n\t\tcheckIfCodeCompiled(token, onOutputChange);\n\n\t}).catch(function (error) {\n\t\tconsole.error(error);\n\t});\n\n}","import React, { useRef, useEffect } from 'react'\nimport Editor from \"@monaco-editor/react\";\n\nconst CodeEditor = (props) => {\n    let {code,setCode, lang, roomId, socket } = props;\n    const langMap = useRef({\n        'C': {\n            name: 'c',\n            text: \n`#include <stdio.h>\nint main() {\n    \n    return 0;\n}\n`\n        },\n        'C++': {\n            name: 'cpp',\n            text: \n`#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n    cout<<\"A\";\n    return 0;\n}\n`\n        },\n        'C#': {\n            name: 'c#',\n            text: \n`using System;\nstatic void Main(string[] args) {\n    \n}\n`\n        },\n        'Java': {\n            name: 'java',\n            text: \n`public static void main(String args[]){  \n    \n}\n`\n        },\n        'JavaScript': {\n            name: 'javascript',\n            text: ` \n// Start code from here\n\n`\n        },\n        'Python': {\n            name: 'python',\n            text: `\n// Start code from here\n\n`\n        },\n    })\n    useEffect(() => {\n        socket.on(\"code-file-change\", (text) => {\n            setCode(text);\n            langMap.current[lang].text=text;\n        });\n        \n    }, [])\n\n    const onCodeChange = (e) => {\n        setCode(e);\n        langMap.current[lang].text=e;\n        let msgName = `code-file-change`;\n        let msg = { text: e, roomId };\n        socket.emit(msgName, msg);\n    }\n\n    useEffect(() => {\n        // run this if language is changed\n        setCode(langMap.current[lang].text);\n    }, [lang])\n    \n    return (\n        <div>\n            <Editor\n                height=\"90vh\"\n                width=\"120vh\"\n                defaultLanguage=\"cpp\"\n                language={langMap.current[lang].name}\n                theme=\"vs-dark\"\n                defaultValue={langMap.current[lang].text}\n                onChange={onCodeChange}\n                value={code}\n            />\n        </div>\n    )\n}\n\nexport default CodeEditor\n","import React, { useContext, useState, useEffect } from 'react'\nimport roomContext from '../context/room/RoomContext';\nimport { useNavigate } from \"react-router-dom\";\nimport Video from './Video'\nimport { compile } from '../functions/compile';\nimport CodeEditor from './CodeEditor';\nimport Editor from \"@monaco-editor/react\";\n\nconst Meeting = () => {\n    const context = useContext(roomContext);\n    const { roomId, socket } = context;\n    const [code, setCode] = useState('')\n    const [input, setInput] = useState('')\n    const [output, setOutput] = useState('')\n    const [lang, setLang] = useState(54)\n    const [currLang, setCurrLang] = useState('C++')\n    \n    useEffect(() => {\n        // This is very necessary. If we do without useEffect then multiple listeners for a single socket message will be registered. For ex:- socket.on(\"input-file-change\") will run multiple times. Inside useEffect the socket listeners will be created once only.\n        socket.on(\"input-file-change\", (text) => {\n            setInput(text);\n        });\n        socket.on(\"output-file-change\", (text) => {\n            setOutput(text);\n        });\n        socket.on('lang-change', (newLang) => {\n            changeLang(newLang);\n        })\n        \n    },[])\n\n    \n    const onInputChange = (e) => {\n        setInput(e);\n        let msgName = `input-file-change`;\n        let msg = { text: e, roomId };\n        socket.emit(msgName, msg);\n    }\n    const onOutputChange = (e) => {\n        setOutput(e);\n        let msgName = `output-file-change`;\n        let msg = { text: e, roomId };\n        socket.emit(msgName, msg);\n    }\n\n    const changeLang = (newLang)=>{\n        setLang(newLang);\n        if(newLang === '49') setCurrLang('C');\n        else if(newLang === '54') setCurrLang('C++');\n        else if(newLang === '51') setCurrLang('C#');\n        else if(newLang === '62') setCurrLang('Java');\n        else if(newLang === '63') setCurrLang('JavaScript');\n        else setCurrLang('Python');\n    }\n    const onclick = (e) => {\n        changeLang(e.target.name);\n        socket.emit('lang-change', {newLang: e.target.name, roomId});\n    }\n\n    return (\n        <>\n            {/* {\n                !localStorage.getItem('roomId') && navigate('/home')\n            } */}\n\n            <h2>Code Area</h2>\n            <div className=\"form-group\" style={{ display: 'inline-flex' }}>\n                <CodeEditor socket={socket} code={code} setCode={setCode} roomId={roomId} lang={currLang} />\n                <Editor \n                    height=\"40vh\"\n                    width=\"40vh\"\n                    theme=\"vs-dark\"\n                    onChange={onInputChange}\n                    value={input}\n                />\n                <Editor \n                    height=\"40vh\"\n                    width=\"40vh\"\n                    theme=\"vs-dark\"\n                    onChange={onOutputChange}\n                    value={output}\n                />\n\n                {/* <textarea className=\"form-control p-3\" id=\"input-file\" rows=\"10\" onChange={onInputChange} value={input}></textarea> */}\n                {/* <textarea className=\"form-control p-3\" id=\"output-file\" rows=\"10\" onChange={onOutputChange} value={output}></textarea> */}\n\n                <div className=\"dropdown\">\n                    <button className=\"btn btn-primary dropdown-toggle\" type=\"button\" id=\"dropdownMenu2\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                        {currLang}\n                    </button>\n                    <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\n                        <li><button className=\"dropdown-item\" name=\"49\" onClick={onclick} type=\"button\">C</button></li>\n                        <li><button className=\"dropdown-item\" name=\"54\" onClick={onclick} type=\"button\">C++</button></li>\n                        <li><button className=\"dropdown-item\" name=\"51\" onClick={onclick} type=\"button\">C#</button></li>\n                        <li><button className=\"dropdown-item\" name=\"62\" onClick={onclick} type=\"button\">Java</button></li>\n                        <li><button className=\"dropdown-item\" name=\"63\" onClick={onclick} type=\"button\">JavaScript</button></li>\n                        <li><button className=\"dropdown-item\" name=\"71\" onClick={onclick} type=\"button\">Python</button></li>\n                    </ul>\n                </div>\n\n            </div>\n\n            <button className='mx-2' onClick={() => { \n                compile(code, input,lang, onOutputChange);\n            }}>Compile Code</button>\n\n            <Video />\n        </>\n    )\n}\n\nexport default Meeting\n","import React from \"react\";\nimport './App.css';\nimport {\n    BrowserRouter as Router,\n    Routes,\n    Route\n} from \"react-router-dom\";\nimport Home from \"./component/Home\";\nimport Meeting from \"./component/MeetingRoom\";\n\nfunction App() {\n\n\n    return (\n        <>\n            <Router>\n            <Routes> \n                <Route path=\"/\" element={<Home />} /> \n\n                <Route path=\"/meeting\" element={<Meeting />} /> \n\n            </Routes>\n            </Router>\n        </>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import RoomContext from \"./RoomContext\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { io } from 'socket.io-client';\nimport Peer from 'simple-peer';\nimport { v4 as uuidv4 } from 'uuid';\nconst socket = io('http://localhost:5000');\n\n\nconst RoomState = (props) => {\n    const [roomId, setRoomId] = useState(null);\n    const [myID, setMyID] = useState(null)\n    const users = useRef(new Map());\n    const connectedUsers = useRef(null)\n    const myStream = useRef(null);\n\n    socket.on('connect', () => setMyID(socket.id));\n    \n    const createNewSocket = (name) => {\n        setRoomId(uuidv4());\n        // setRoomId('abc-12');\n    }\n    \n    const connectToSocket = (room) => {\n        setRoomId(room);\n        // setRoomId('abc-12');\n    }\n    \n    useEffect(() => {\n        if(roomId!==null && myID!==null){\n            console.log(roomId);\n            socket.emit('join-room', roomId);\n            socket.once('user-data', (data) => {\n                console.log('got');\n                connectedUsers.current = data;\n            })\n            socket.on('disconnected', id => {\n                console.log(id, 'disconnected');\n                users.current.delete(id);\n                showVideos();\n            })\n            getUserVideoAudio();\n        }\n    \n    }, [roomId, myID])\n\n\n    const getUserVideoAudio = ()=>{\n        navigator.mediaDevices.getUserMedia({\n            audio: true,\n            video: true,\n        })\n        .then((stream) => {\n            addVideo(myID, stream);\n            myStream.current = stream;\n            if(connectedUsers.current){\n                connectedUsers.current.forEach(connectedId => {\n                    sendConnectionToAlreadyPresentPeer(connectedId, stream);\n                })\n            }\n            \n            socket.on('new-user-joined', userId => {\n                console.log(userId, 'new joining');\n                receiveConnectionFromNewPeerJoining(stream, userId);\n            })\n        })\n        .catch((err) => {\n            //  User did'nt gave cam/mic access. Do something to show a black screen box.\n            console.log(err);\n        })\n        \n    }\n\n    \n    const addVideo = (userId, UserStream) => {\n        \n        const userVideo = document.createElement(\"video\");\n        if(userId === myID) userVideo.muted = true;\n        userVideo.srcObject = UserStream;\n        console.log(userId, 'b');\n        \n        userVideo.addEventListener(\"loadedmetadata\", async ()=>{\n            console.log('playing');\n            await userVideo.play();\n            users.current.set(userId,{userVideo});\n            showVideos();\n\n        });\n        \n    }\n    \n\n    const receiveConnectionFromNewPeerJoining = (stream, userId) => {\n        const peer = new Peer({ initiator: false, trickle: false, stream });\n        let destroyed = false;\n\n        peer.on('signal', (data) => {\n            console.log(userId, 'initialising')\n            socket.emit('init-signal', {to:userId, from:myID, data});\n        });\n        peer.on('stream', (otherStream) => {\n            console.log(userId,otherStream);\n            addVideo(userId, otherStream);\n        })\n        peer.on('close', ()=>{\n            // check if the socket is still connected\n            if(users.current.has(userId)){\n                // delete previous peer and it's related stream\n                users.current.delete(userId);\n                showVideos();\n                peer.destroy();\n                destroyed = true;\n                // start new connection again\n                receiveConnectionFromNewPeerJoining(stream, userId);\n            }\n        })\n        peer.on('error', (err) => {\n            // Although it is useless, we still have to use this otherwise peer.on'close' is not getting triggered \n            console.log(err);\n        })\n        \n        socket.on('get-signal', (msg)=> {\n            let {from, data} = msg;\n            if(userId === from){\n                console.log(userId, 'signal', destroyed);\n                if(!destroyed) peer.signal(data);\n            }\n        })\n        \n        \n    }\n    \n    \n    const sendConnectionToAlreadyPresentPeer = (connectedId, stream) => {\n        const peer = new Peer({ initiator: true, trickle: false, stream });\n        let destroyed = false;\n        \n        peer.on('signal', (data) => {\n            console.log(peer);\n            socket.emit('init-signal', {to:connectedId ,from:myID, data});\n        });\n        peer.on('stream', (otherStream) => {\n            console.log(connectedId,Date.now(),  'stream');\n            addVideo(connectedId, otherStream);\n        })\n        peer.on('close', ()=>{\n            // check if the socket is still connected\n            if(users.current.has(connectedId)){\n                // delete previous peer and it's related stream\n                users.current.delete(connectedId);\n                showVideos();\n                peer.destroy();\n                destroyed = true;\n                // start new connection again\n                sendConnectionToAlreadyPresentPeer(connectedId, stream);\n            }\n        })\n        peer.on('error', (err) => {\n            // Although it is useless, we still have to use this otherwise peer.on'close' is not getting triggered \n            console.log(err);\n        })\n        \n        socket.on('get-signal', (msg)=> {\n            let {from, data} = msg;\n            if(connectedId === from){\n                console.log(connectedId,Date.now(), 'signal',destroyed);\n                if(!destroyed) peer.signal(data);\n            }\n        })\n\n    }\n    const toggleVideo= ()=>{\n        //  We can also use getVideoTracks()[0].enabled to check if a remote stream's video is on or not\n        myStream.current.getVideoTracks()[0].enabled =\n         !(myStream.current.getVideoTracks()[0].enabled);\n    }\n\n    const toggleAudio= ()=>{\n        myStream.current.getAudioTracks()[0].enabled =\n         !(myStream.current.getAudioTracks()[0].enabled);\n    }\n    \n    const showVideos= ()=> {        \n        document.getElementById('video-box').innerHTML=``;\n        for (const [key, value] of users.current.entries()) {\n            document.getElementById('video-box').appendChild(value.userVideo);\n            \n        }\n        console.log(users.current.entries());\n    }\n    \n    \n\n    return(\n        <RoomContext.Provider value={{socket,roomId,toggleVideo,toggleAudio,createNewSocket,connectToSocket}}>\n            {props.children}\n        </RoomContext.Provider>\n    )\n}\n\nexport default RoomState;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n//  I wrote these\nimport RoomState from \"./context/room/RoomState\";\n\nReactDOM.render(\n  \n  <React.StrictMode>\n      <RoomState>\n        <App />\n      </RoomState>\n  </React.StrictMode>,\n  document.getElementById('root')\n\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}